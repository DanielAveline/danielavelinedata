<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>SQL Puzzles</title>
  <link rel="stylesheet" href="/assets/styles.css"/>

  <!-- Page-scoped layout tweaks -->
  <style>
    /* 3-column layout on desktop */
    .puzzles-wrap {
      max-width: 1200px;
      margin: 1.25rem auto 2rem;
      padding: 0 1rem;
      display: grid;
      grid-template-columns: 260px 280px 1fr; /* Puzzles | Schema | Main */
      gap: 1rem;
    }
    .panel { background: #fff; color: #111; }

    .sidebar { padding: .75rem .9rem; }
    .sidebar .hd { margin-bottom: .25rem; }
    .sidebar .meta { margin: 0 0 .6rem; }

    /* Puzzles list */
    .list { list-style: none; }
    .list li { cursor: pointer; }
    .list li + li { margin-top: .25rem; }

    /* Schema panel */
    .schema-panel { padding: .75rem .9rem; }
    .schema-box {
      margin-top: .5rem;
      border: 1px solid rgba(17,17,17,.12);
      border-radius: 10px;
      background: #fbfbfd;
      padding: .6rem .7rem;
      white-space: pre-wrap; /* show each table on its own line */
      font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, "Liberation Mono", monospace;
      font-size: .9rem;
      color: #2b2f36;
      min-height: 120px;
    }

    /* Main column */
    .main-panel { padding: .9rem 1rem; }
    .grid-2 {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 1rem;
      align-items: start;
    }
    .editor {
      width: 100%;
      min-height: 220px;
      resize: vertical;
    }
    .results {
      min-height: 160px;
    }
    .toolbar {
      display: flex; gap: .6rem; margin: .6rem 0 1rem;
      flex-wrap: wrap;
    }

    /* Mobile / tablet */
    @media (max-width: 1100px) {
      .puzzles-wrap {
        grid-template-columns: 1fr; /* stack */
      }
      .grid-2 {
        grid-template-columns: 1fr; /* stack editor and results */
      }
    }
  </style>
</head>
<body class="__hydrating __fade-ready">
  <div id="site-header"></div>

  <main>
    <section class="puzzles-wrap">
      <!-- Left: SQL Puzzles -->
      <aside class="panel sidebar">
        <div class="hd">
          <h2 style="margin:0;">SQL Puzzles</h2>
        </div>
        <p class="meta">A new set every week: Easy, Medium, Hard.</p>
        <ul id="puzzleList" class="list" role="listbox" aria-label="Puzzles"></ul>
      </aside>

      <!-- Middle: Schema -->
      <aside class="panel schema-panel">
        <div class="hd">
          <h2 style="margin:0;">Schema</h2>
        </div>
        <div id="schemaBox" class="schema-box"></div>
      </aside>

      <!-- Right: Main puzzle -->
      <article class="panel main-panel">
        <header class="hd" style="padding:0;">
          <h2 id="puzzleTitle" style="margin:0 0 .4rem;"></h2>
          <div id="puzzleMeta" class="meta"></div>
        </header>

        <div class="bd" style="padding-top:.75rem;">
          <p id="puzzleGoal" class="meta" style="margin:0 0 .8rem;"></p>

          <div class="grid-2">
            <div>
              <label for="sqlEditor" class="meta" style="display:block;margin-bottom:.25rem;">Your SQL</label>
              <textarea id="sqlEditor" class="editor"></textarea>

              <!-- Buttons now under the editor -->
              <div class="toolbar">
                <button disabled>Run</button>
                <button disabled>Check Answer</button>
                <button disabled>Reveal Solution</button>
              </div>
            </div>

            <!-- Results to the right on desktop, below on mobile -->
            <div>
              <label class="meta" style="display:block;margin-bottom:.25rem;">Results</label>
              <div id="sqlResults" class="results panel" style="padding:.6rem;"></div>
            </div>
          </div>
        </div>
      </article>
    </section>
  </main>

  <div id="site-footer"></div>

  <script src="/assets/js/partials.js" defer></script>
  <script type="module" src="/assets/js/sql/puzzles-page.js"></script>
</body>
</html>

